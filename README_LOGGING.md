# üìã –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è Elia

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ .env

```env
LOG_LEVEL=INFO              # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_DIR=logs                # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –ª–æ–≥–æ–≤
LOG_RETENTION_DAYS=30       # –î–Ω–µ–π —Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–≥–æ–≤
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

```python
from app.logger import get_logger

logger = get_logger(__name__)

logger.info("–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–±–æ—Ç–µ")
logger.warning("–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ")
logger.error("–û—à–∏–±–∫–∞")
logger.exception("–ò—Å–∫–ª—é—á–µ–Ω–∏–µ —Å stack trace")
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤

```
logs/
‚îú‚îÄ‚îÄ elia-app-2025-10-26.log       # üìù –í—Å–µ –ª–æ–≥–∏
‚îú‚îÄ‚îÄ elia-errors-2025-10-26.log    # ‚ùå –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
‚îî‚îÄ‚îÄ elia-access-2025-10-26.log    # üåê HTTP –∑–∞–ø—Ä–æ—Å—ã
```

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –í —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f logs/elia-app-$(date +%Y-%m-%d).log

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
grep "ERROR" logs/elia-app-*.log

# –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
grep "–ú–µ–¥–ª–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å" logs/elia-app-*.log
```

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
- ‚úÖ –§–∞–π–ª—ã —Å –¥–∞—Ç–æ–π –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏
- ‚úÖ –ê–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤ (30 –¥–Ω–µ–π)
- ‚úÖ –¶–≤–µ—Ç–Ω–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏
- ‚úÖ –û—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –æ—à–∏–±–æ–∫
- ‚úÖ HTTP access –ª–æ–≥–∏
- ‚úÖ Stack trace –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- ‚úÖ –°–∫—Ä—ã—Ç–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ –≤—Å–µ—Ö API endpoints

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[LOGGING_BEST_PRACTICES.md](./LOGGING_BEST_PRACTICES.md)** - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- **[LOGGING_IMPLEMENTATION.md](./LOGGING_IMPLEMENTATION.md)** - –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ ‚úÖ:
- –í—Å–µ —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (DEBUG, INFO, WARNING, ERROR, CRITICAL)
- –ó–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª—ã
- –†–æ—Ç–∞—Ü–∏—è –ø–æ –¥–Ω—è–º
- –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π —Å–æ stack trace
- HTTP middleware
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∏–ø–∞–º (app/errors/access)

## üìä –ü—Ä–∏–º–µ—Ä—ã –ª–æ–≥–æ–≤

### Application Log
```
2025-10-26 17:38:36 - app.api.patients - INFO - get_patients_list:26 - –ü–æ–ª—É—á–µ–Ω–æ 15 –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤
2025-10-26 17:38:40 - app.api.appointments - WARNING - get_patient_detail:43 - –ü–∞—Ü–∏–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω: patient_id=999
```

### Error Log
```
2025-10-26 17:40:12 - app.api.appointments - ERROR - download_appointment_pdf:217 - –û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF
Traceback (most recent call last):
  File "app/api/appointments.py", line 194, in download_appointment_pdf
    pdf_buffer = generate_appointment_pdf(...)
ZeroDivisionError: division by zero
```

### Access Log
```
2025-10-26 17:38:36 - 127.0.0.1 - "GET /api/patients" 200 - 45.23ms
2025-10-26 17:38:40 - 127.0.0.1 - "GET /api/patients/999" 404 - 12.34ms
```

## üé® –¶–≤–µ—Ç–Ω–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞

–í –∫–æ–Ω—Å–æ–ª–∏ –ª–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è —Å —Ü–≤–µ—Ç–∞–º–∏:
- üîπ **DEBUG** - —Å–µ—Ä—ã–π
- üî∑ **INFO** - —Å–∏–Ω–∏–π
- üü° **WARNING** - –∂—ë–ª—Ç—ã–π
- üî¥ **ERROR** - –∫—Ä–∞—Å–Ω—ã–π
- üî• **CRITICAL** - —è—Ä–∫–æ-–∫—Ä–∞—Å–Ω—ã–π

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### Development
```env
LOG_LEVEL=DEBUG
```
–ú–∞–∫—Å–∏–º—É–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### Staging
```env
LOG_LEVEL=INFO
```
–ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å—é –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é

### Production
```env
LOG_LEVEL=WARNING
```
–¢–æ–ª—å–∫–æ –≤–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –º–∏–Ω–∏–º—É–º overhead

## üì¶ –†–∞–∑–º–µ—Ä –ª–æ–≥–æ–≤

–û–∂–∏–¥–∞–µ–º—ã–π –æ–±—ä—ë–º:
- üü¢ –ù–∏–∑–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞: ~1-5 MB/–¥–µ–Ω—å
- üü° –°—Ä–µ–¥–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞: ~10-50 MB/–¥–µ–Ω—å
- üî¥ –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞: ~100-500 MB/–¥–µ–Ω—å

–õ–æ–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `LOG_RETENTION_DAYS` –¥–Ω–µ–π.

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ó–∞–ø—É—Å–∫ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
python -m uvicorn app.main:app --host 0.0.0.0 --port 8000

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f logs/elia-app-$(date +%Y-%m-%d).log
```

## üÜò Troubleshooting

### –õ–æ–≥–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞
ls -la logs/

# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤—Ä—É—á–Ω—É—é
mkdir -p logs
```

### –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ª–æ–≥–æ–≤
```env
# –£–≤–µ–ª–∏—á—å—Ç–µ —É—Ä–æ–≤–µ–Ω—å
LOG_LEVEL=WARNING

# –£–º–µ–Ω—å—à–∏—Ç–µ —Å—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è
LOG_RETENTION_DAYS=7
```

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞
```env
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ INFO –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
LOG_LEVEL=INFO

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ
df -h
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è:
- ‚ùå –ü–∞—Ä–æ–ª–∏
- ‚ùå –¢–æ–∫–µ–Ω—ã
- ‚ùå API –∫–ª—é—á–∏
- ‚ùå Authorization headers
- ‚ùå Cookies

## üéì –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### ‚úÖ DO
```python
logger.info(f"–°–æ–∑–¥–∞–Ω –ø–∞—Ü–∏–µ–Ω—Ç: id={id}, name={name}")
logger.exception(f"–û—à–∏–±–∫–∞: {str(e)}")
if duration > 1.0:
    logger.warning(f"–ú–µ–¥–ª–µ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è: {duration}s")
```

### ‚ùå DON'T
```python
logger.info(f"Password: {password}")  # –ù–ï –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
print("Debug info")                    # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å logger, –Ω–µ print
for item in items:
    logger.info(item)                  # –ù–ï –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤ —Ü–∏–∫–ª–∞—Ö
```

## üìà –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] ELK Stack –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] Grafana Loki –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- [ ] Sentry –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ—à–∏–±–æ–∫
- [ ] –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (JSON)
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] CloudWatch / Azure Monitor

---

**–í–µ—Ä—Å–∏—è**: 1.0.0  
**–î–∞—Ç–∞**: 26.10.2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

